import{r as t,_ as $,R as v,a as F,c as M,P as i,b as G,q as H,j as e,v as S,w as P,x as k,y as A,i as T,k as q,L as W}from"./index-CXj5Q4qR.js";import{a as Z}from"./axios-Cm0UX6qg.js";import{B as _,P as J,A as z,V as D,a as K,L as Q}from"./constants-C5PP6q1q.js";import{C as X}from"./CContainer-CCtAqSp5.js";import{u as Y,T as ee,C as se,c as ae}from"./cil-lock-locked-CLLKfpIK.js";import{C as re}from"./CCardGroup-Dky0iKth.js";import{C as V,a as B,b as O}from"./CInputGroupText-no9_JdrX.js";import{a as U}from"./CButton-C_cZjyTK.js";var y=t.forwardRef(function(s,l){var h=s.children,o=s.className,c=s.color,n=c===void 0?"primary":c,d=s.dismissible,f=s.variant,m=s.visible,u=m===void 0?!0:m,p=s.onClose,C=$(s,["children","className","color","dismissible","variant","visible","onClose"]),g=t.useRef(null),j=Y(l,g),x=t.useState(u),N=x[0],r=x[1];return t.useEffect(function(){r(u)},[u]),v.createElement(ee,{in:N,mountOnEnter:!0,nodeRef:g,onExit:p,timeout:150,unmountOnExit:!0},function(b){return v.createElement("div",F({className:M("alert",f==="solid"?"bg-".concat(n," text-white"):"alert-".concat(n),{"alert-dismissible fade":d,show:b==="entered"},o),role:"alert"},C,{ref:j}),h,d&&v.createElement(se,{onClick:function(){return r(!1)}}))})});y.propTypes={children:i.node,className:i.string,color:G.isRequired,dismissible:i.bool,onClose:i.func,variant:i.string,visible:i.bool};y.displayName="CAlert";var w=t.forwardRef(function(s,l){var h=s.children,o=s.className,c=s.validated,n=$(s,["children","className","validated"]);return v.createElement("form",F({className:M({"was-validated":c},o)||void 0},n,{ref:l}),h)});w.propTypes={children:i.node,className:i.string,validated:i.bool};w.displayName="CForm";const ue=()=>{const s=H(),[l,h]=t.useState(""),[o,c]=t.useState(""),[n,d]=t.useState(""),[f,m]=t.useState(""),[u,p]=t.useState(!1),[C,g]=t.useState(""),j=()=>{let r=!0;return l===""?(d("Please input username"),r=!1):l.length<5?(d("Please enter a username with at least 5 characters"),r=!1):d(""),o===""?(m("Please input password"),r=!1):o.length<6?(m("Please enter a password with at least 6 characters"),r=!1):m(""),r},x=sessionStorage.getItem("isLoggedIn");t.useEffect(()=>{x&&s("/dashboard")},[x]);const N=async r=>{var L,I,R,E;const b={user_name:l,password:o};if(j())try{const a=await Z.post(`${_}${J}${z}${D}${K}${Q}`,{...b});(L=a==null?void 0:a.data)!=null&&L.success?(sessionStorage.setItem("isLoggedIn",!0),sessionStorage.setItem("token",(R=a==null?void 0:a.data)==null?void 0:R.token),sessionStorage.setItem("userIF",JSON.stringify((E=a==null?void 0:a.data)==null?void 0:E.data)),s("/dashboard")):(p(!u),g((I=a==null?void 0:a.data)==null?void 0:I.message))}catch(a){console.log(a)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsxs(X,{children:[e.jsxs(y,{className:"d-flex align-items-center",color:"danger",dismissible:!0,visible:u,onClose:()=>p(!1),children:[e.jsxs("svg",{className:"flex-shrink-0 me-2",width:"24",height:"24",viewBox:"0 0 512 512",children:[e.jsx("rect",{width:"32",height:"176",x:"240",y:"176",fill:"var(--ci-primary-color, currentColor)",className:"ci-primary"}),e.jsx("rect",{width:"32",height:"32",x:"240",y:"384",fill:"var(--ci-primary-color, currentColor)",className:"ci-primary"}),e.jsx("path",{fill:"var(--ci-primary-color, currentColor)",d:"M274.014,16H237.986L16,445.174V496H496V445.174ZM464,464H48V452.959L256,50.826,464,452.959Z",className:"ci-primary"})]}),C]}),e.jsx(S,{className:"justify-content-center",children:e.jsx(P,{md:8,children:e.jsxs(re,{children:[e.jsx(k,{className:"p-4",children:e.jsx(A,{children:e.jsxs(w,{children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to Admin account"}),e.jsxs(V,{className:"mb-3",children:[e.jsx(B,{children:e.jsx(T,{icon:q})}),e.jsx(O,{placeholder:"Username",autoComplete:"username",value:l,onChange:r=>h(r.target.value)}),n!==""&&e.jsx("span",{className:"text-danger",children:n})]}),e.jsxs(V,{className:"mb-4",children:[e.jsx(B,{children:e.jsx(T,{icon:ae})}),e.jsx(O,{value:o,onChange:r=>c(r.target.value),type:"password",placeholder:"Password",autoComplete:"current-password"}),f!==""&&e.jsx("span",{className:"text-danger",children:f})]}),e.jsx(S,{children:e.jsx(P,{xs:6,children:e.jsx(U,{color:"primary",className:"px-4",onClick:N,children:"Login"})})})]})})}),e.jsx(k,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(A,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"WELCOME"}),e.jsx("p",{children:"Welcome to the smart business management system. This product is developed by Hoangdev."}),e.jsx(W,{to:"/",children:e.jsx(U,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Contact"})})]})})})]})})})]})})};export{ue as default};
