import{r as t,_ as $,R as v,a as F,c as M,P as i,b as G,n as H,j as e,L as W}from"./index-Cxx3IzqY.js";import{a as Z}from"./axios-Cm0UX6qg.js";import{b as S,a as P}from"./index.es-CUmEiAjS.js";import{C as k,a as A,B as _,P as q,A as J,V as z,b as D,L as K}from"./constants-wHocrRVZ.js";import{C as Q}from"./CContainer-CnpRXV-9.js";import{u as X,T as Y,C as ee,c as se,a as ae}from"./cil-user-DY5ZHcSb.js";import{C as T,a as V}from"./CRow-5EI1EJfs.js";import{C as re}from"./CCardGroup-f06so7Rb.js";import{C as B,a as O,b as U}from"./CInputGroupText-jweAP0MU.js";var y=t.forwardRef(function(s,l){var h=s.children,o=s.className,c=s.color,n=c===void 0?"primary":c,d=s.dismissible,f=s.variant,m=s.visible,u=m===void 0?!0:m,p=s.onClose,C=$(s,["children","className","color","dismissible","variant","visible","onClose"]),g=t.useRef(null),j=X(l,g),x=t.useState(u),b=x[0],r=x[1];return t.useEffect(function(){r(u)},[u]),v.createElement(Y,{in:b,mountOnEnter:!0,nodeRef:g,onExit:p,timeout:150,unmountOnExit:!0},function(N){return v.createElement("div",F({className:M("alert",f==="solid"?"bg-".concat(n," text-white"):"alert-".concat(n),{"alert-dismissible fade":d,show:N==="entered"},o),role:"alert"},C,{ref:j}),h,d&&v.createElement(ee,{onClick:function(){return r(!1)}}))})});y.propTypes={children:i.node,className:i.string,color:G.isRequired,dismissible:i.bool,onClose:i.func,variant:i.string,visible:i.bool};y.displayName="CAlert";var w=t.forwardRef(function(s,l){var h=s.children,o=s.className,c=s.validated,n=$(s,["children","className","validated"]);return v.createElement("form",F({className:M({"was-validated":c},o)||void 0},n,{ref:l}),h)});w.propTypes={children:i.node,className:i.string,validated:i.bool};w.displayName="CForm";const he=()=>{const s=H(),[l,h]=t.useState(""),[o,c]=t.useState(""),[n,d]=t.useState(""),[f,m]=t.useState(""),[u,p]=t.useState(!1),[C,g]=t.useState(""),j=()=>{let r=!0;return l===""?(d("Please input username"),r=!1):l.length<5?(d("Please enter a username with at least 5 characters"),r=!1):d(""),o===""?(m("Please input password"),r=!1):o.length<6?(m("Please enter a password with at least 6 characters"),r=!1):m(""),r},x=sessionStorage.getItem("isLoggedIn");t.useEffect(()=>{x&&s("/dashboard")},[x]);const b=async r=>{var L,I,R,E;const N={user_name:l,password:o};if(j())try{const a=await Z.post(`${_}${q}${J}${z}${D}${K}`,{...N});(L=a==null?void 0:a.data)!=null&&L.success?(sessionStorage.setItem("isLoggedIn",!0),sessionStorage.setItem("token",(R=a==null?void 0:a.data)==null?void 0:R.token),sessionStorage.setItem("userIF",JSON.stringify((E=a==null?void 0:a.data)==null?void 0:E.data)),s("/dashboard")):(p(!u),g((I=a==null?void 0:a.data)==null?void 0:I.message))}catch(a){console.log(a)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsxs(Q,{children:[e.jsxs(y,{className:"d-flex align-items-center",color:"danger",dismissible:!0,visible:u,onClose:()=>p(!1),children:[e.jsxs("svg",{className:"flex-shrink-0 me-2",width:"24",height:"24",viewBox:"0 0 512 512",children:[e.jsx("rect",{width:"32",height:"176",x:"240",y:"176",fill:"var(--ci-primary-color, currentColor)",className:"ci-primary"}),e.jsx("rect",{width:"32",height:"32",x:"240",y:"384",fill:"var(--ci-primary-color, currentColor)",className:"ci-primary"}),e.jsx("path",{fill:"var(--ci-primary-color, currentColor)",d:"M274.014,16H237.986L16,445.174V496H496V445.174ZM464,464H48V452.959L256,50.826,464,452.959Z",className:"ci-primary"})]}),C]}),e.jsx(T,{className:"justify-content-center",children:e.jsx(V,{md:8,children:e.jsxs(re,{children:[e.jsx(k,{className:"p-4",children:e.jsx(A,{children:e.jsxs(w,{children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to Admin account"}),e.jsxs(B,{className:"mb-3",children:[e.jsx(O,{children:e.jsx(S,{icon:se})}),e.jsx(U,{placeholder:"Username",autoComplete:"username",value:l,onChange:r=>h(r.target.value)}),n!==""&&e.jsx("span",{className:"text-danger",children:n})]}),e.jsxs(B,{className:"mb-4",children:[e.jsx(O,{children:e.jsx(S,{icon:ae})}),e.jsx(U,{value:o,onChange:r=>c(r.target.value),type:"password",placeholder:"Password",autoComplete:"current-password"}),f!==""&&e.jsx("span",{className:"text-danger",children:f})]}),e.jsx(T,{children:e.jsx(V,{xs:6,children:e.jsx(P,{color:"primary",className:"px-4",onClick:b,children:"Login"})})})]})})}),e.jsx(k,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(A,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"WELCOME"}),e.jsx("p",{children:"Welcome to the smart business management system. This product is developed by Hoangdev."}),e.jsx(W,{to:"/",children:e.jsx(P,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Contact"})})]})})})]})})})]})})};export{he as default};
